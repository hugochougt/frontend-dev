<!DOCTYPE html>

<html>
  <head>
    <title></title>
    <meta charset="UTF-8">
  </head>

  <body>
    <p><input id="btn1" type="button" value="button 1"></p>
    <p><input id="btn2" type="button" value="button 2"></p>
    <p><input id="btn3" type="button" value="button 3"></p>

    <script type="text/javascript">
      var btn1 = document.getElementById("btn1");
      btn1.onclick = function() {
        alert("id=" + this.id + ", value=" + this.value);
      };
      // to remove event handler
      // btn1.onclick = null;

      var btn2 = document.getElementById("btn2");
      btn2.addEventListener("click", showId, true); // true for capture phase
      btn2.addEventListener("click", function() { alert("bubble phase"); }, false);
      // to remove event handler
      // btn2.removeEventListener("click", showId, true);

      /*
       * In most cases, event handlers are added to the bubbling phase of the
       * eventflow since this offers the broadest possible cross-browser
       * suppert. Attaching an event handler in the capture phase is best done
       * if you need to intercept events before they reach their intended
       * target. If this is not necessary, it's advisable to advoid event
       * capturing.
       */

      function showId() {
        alert(this.id);
      }
    </script>

    <script type="text/javascript">
      var btn = document.getElementById("btn3");
      btn.onclick = function(event) {
        console.log("id: " + this.id);
        console.log("target:" + event.target);
        console.log("event.currentTarget === this?? - " + (event.currentTarget === this));
        console.log("event.target === this?? - " + (event.target === this));
        event.stopPropagation();
      };

      document.body.onclick = function(event) {
        console.log("event on body click");
        console.log("target:" + event.target);
        console.log("this: " + this);
        console.log("event.currentTarget === this?? - " + (event.currentTarget === this));
        console.log("event.target === this?? - " + (event.target === this));
      }
    </script>
  </body>
</html>
